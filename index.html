<!DOCTYPE html>
<html>
<head>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>RPG Battle</title>
    <link href="style/styles.css" rel="stylesheet" type="text/css">
    <link href="style/animation.css" rel="stylesheet" type="text/css">
    <link href="style/battleLog.css" rel="stylesheet" type="text/css">
    <link href="style/member.css" rel="stylesheet" type="text/css">
    <link href="style/fireworks.css" rel="stylesheet" type="text/css">
    <link href="style/bottomBar.css" rel="stylesheet" type="text/css">
    <link href="style/evolutionModal.css" rel="stylesheet" type="text/css">
    <link href="style/stats.css" rel="stylesheet" type="text/css">
    <link href="style/map.css" rel="stylesheet" type="text/css">
    <link href="style/greenBorderAnimation.css" rel="stylesheet" type="text/css">
    <link href="style/glow.css" rel="stylesheet" type="text/css">
    <link href="style/home.css" rel="stylesheet" type="text/css">
    <link href="style/slideshow.css" rel="stylesheet" type="text/css">
    <link href="style/dialogue.css" rel="stylesheet" type="text/css">
    <link href="style/library.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="style/questLog.css">
</head>
<body>
<div class="home-screen active" id="home-screen">
    <div class="home-menu">
        <h1>RPG Battle</h1>
        <div class="home-buttons">
            <button id="new-game"><img src="Media/UI/new_game.png" alt="New Game"></button>
            <button id="load-game"><img src="Media/UI/load_game.png" alt="Load Game"></button>
            <button id="options"><img src="Media/UI/options.png" alt="Options"></button>
            <button id="exit"><img src="Media/UI/exit.png" alt="Exit"></button>
        </div>
    </div>
</div>

<div class="slideshow hidden" id="slideshow">
    <div class="slide">
        <img src="Media/slideshow/slide1.jpeg" alt="Slide 1">
        <p>A thousand years ago, the human spread throughout the continent, its cities linked by a network of magical portals.</p>
    </div>
    <div class="slide">
        <img src="Media/slideshow/slide2.jpeg" alt="Slide 2">
        <p>But it was not completely under their control. Monsters and other, darker, things made it dangerous to stray too far from civilization.</p>
    </div>
    <div class="slide">
        <img src="Media/slideshow/slide3.jpg" alt="Slide 3">
        <p>Grand expeditions founded new cities, spreading the empireâ€™s glory through uncharted lands.</p>
    </div>
    <div class="slide">
        <img src="Media/slideshow/slide4.jpeg" alt="Slide 4">
        <p>One day, the portals closed without warning, unleashing a deadly fog that severed all ties.</p>
    </div>
    <div class="slide">
        <img src="Media/slideshow/slide5.jpeg" alt="Slide 5">
        <p>The wilderness became a maze of chaos. Travelers vanished, and cities stood alone.</p>
    </div>
    <div class="slide">
        <img src="Media/slideshow/slide6.jpeg" alt="Slide 6">
        <p>Now, in the forgotten city of Hollowreach, a hero seeks a way to cross the forbidden lands.</p>
    </div>
</div>

<div class="dialogue-modal hidden" id="dialogue-modal">
    <div class="dialogue-content">
        <div class="npc-portrait">
            <img id="npc-portrait-img" src="Media/npc/sampleNPC.jpg" alt="NPC Portrait">
        </div>
        <div class="dialogue-text">
            <p id="npc-name">NPC Name</p>
            <p id="dialogue-text">Dialogue text goes here.</p>
        </div>
        <div class="dialogue-options">
            <button class="option-button" id="option-1" style="display: none;">Option 1</button>
            <button class="option-button" id="option-2" style="display: none;">Option 2</button>
            <button class="option-button" id="option-3" style="display: none;">Option 3</button>
            <button class="option-button" id="option-4" style="display: none;">Option 4</button>
        </div>
        <div class="dialogue-actions">
            <button class="action-button" id="trade-button" style="display: none;">Trade</button>
        </div>
    </div>
</div>

<div class="popup hidden" id="popup">
    <div class="popup-content">
        <h2 id="popupTitle">Victory!</h2>
        <p id="popupText">Your team has won the battle.</p>
        <p>Note: You can auto repeat by clicking the checkbox at the top of the battle screen.</p>
        <button id="repeat-popup">Repeat stage</button>
        <button id="nextStage-popup">NextStage</button>
        <button id="return-to-map-popup">Return to Map</button>
    </div>
</div>

<div class="modal" id="evolution-modal">
    <div class="modal-content">
        <h2>Choose Your Evolution</h2>
        <div class="evolution-options" id="evolution-options">
            <!-- Evolution options will be populated here dynamically -->
        </div>
    </div>
</div>
<div class="tabcontent" id="quests">
    <div id="quest-list"></div>
</div>
<div class="tabcontent" id="battlefield" class="battle-view">
    <div id="teamAndBattleContainer-overlay" class="battle-view"> <!-- Added for pause overlay -->
        <div id="teamAndBattleContainer">
            <div id="stage-controls">
                <button id="decrease-stage"><</button>
                <span id="current-stage">Stage 1</span>
                <button id="increase-stage">></button>
                <input id="repeat" type="checkbox">Repeat</input>
                <button id="flee-battle">Flee</button> <!-- Flee Button -->
            </div>
            <div id="teamContainer">
                <div class="team" id="team1">
                    <div class="team-row"></div>
                    <div class="team-row"></div>
                </div>
                <div class="team-divider"></div>
                <div class="team" id="team2">
                    <div class="team-row"></div>
                    <div class="team-row"></div>
                </div>
            </div>
            <div id="battle-log-container">
                <button id="toggle-log">Hide Log</button>
                <div id="battle-log">
                    <div id="anchor"></div> <!-- Used for scrolling -->
                </div>
            </div>
        </div>
    </div>
</div>

<div class="tabcontent" id="heroContent">
    <div id="heroInfoRow">
        <div id="heroPortraitAndPaperDoll">
            <div id="heroPortrait">
                <img alt="Hero Portrait" src="Media/portrait.jpg"/>
            </div>
            <div id="paperDoll">
                <div class="slot" id="cloakSlot">Cloak</div>
                <div class="slot" id="helmetSlot">Helmet</div>
                <div class="slot" id="amuletSlot">Amulet</div>
                <div class="slot" id="weaponSlot">Weapon</div>
                <div class="slot" id="chestArmorSlot">Chest Armor</div>
                <div class="slot" id="shieldSlot">Shield</div>
                <div class="slot" id="legArmorSlot">Leg Armor</div>
                <div class="slot" id="glovesSlot">Gloves</div>
                <div class="slot" id="bootsSlot">Boots</div>
                <div class="slot" id="ringSlot">Ring</div>
            </div>
        </div>
        <div id="heroDetails">
            <div id="heroClassesAndStats">
                <div id="inventory">
                    <h2>Inventory</h2>
                    <div class="iconGrid">
                        <!-- 20 inventory slots -->
                        <div class="inventorySlot"></div><div class="inventorySlot"></div><div class="inventorySlot"></div><div class="inventorySlot"></div>
                        <div class="inventorySlot"></div><div class="inventorySlot"></div><div class="inventorySlot"></div><div class="inventorySlot"></div>
                        <div class="inventorySlot"></div><div class="inventorySlot"></div><div class="inventorySlot"></div><div class="inventorySlot"></div>
                        <div class="inventorySlot"></div><div class="inventorySlot"></div><div class="inventorySlot"></div><div class="inventorySlot"></div>
                        <div class="inventorySlot"></div><div class="inventorySlot"></div><div class="inventorySlot"></div><div class="inventorySlot"></div>
                    </div>
                </div>
                <div id="heroClasses"> <!-- For displaying class info -->
                    <h2>Classes</h2>
                    <!-- Dynamically populated or static examples -->
                    <p id="heroClass1">Novice</p>
                    <p id="heroClass2">-</p>
                    <p id="heroClass3">-</p>
                </div>
                <div id="heroStats">
                    <h2>Statistics</h2>
                    <!-- Values will be updated by JS -->
                    <p>Strength: <span id="heroStrength">0</span></p>
                    <p>Speed: <span id="heroSpeed">0</span></p>
                    <p>Dexterity: <span id="heroDexterity">0</span></p>
                    <p>Vitality: <span id="heroVitality">0</span></p>
                    <p>Magic Power: <span id="heroMagicPower">0</span></p>
                    <p>Mana: <span id="heroMana">0/0</span></p>
                    <p>Mana Regen: <span id="heroManaRegen">0</span></p>
                    <p>Magic Control: <span id="heroMagicControl">0</span></p>
                    <p>Gold: <span id="heroGold">0</span></p>
                </div>
                <div id="heroSkills">
                    <h2>Active Skills</h2>
                    <div id="activeSkills">
                        <div class="skill">
                            <p>Slash</p>
                            <div class="progressBar">
                                <div class="progress" style="width: 40%;"></div>
                            </div>
                        </div>
                        <div class="skill">
                            <p>Fireball</p>
                            <div class="progressBar">
                                <div class="progress" style="width: 60%;"></div>
                            </div>
                        </div>
                        <div class="skill">
                            <p>Fireball</p>
                            <div class="progressBar">
                                <div class="progress" style="width: 60%;"></div>
                            </div>
                        </div>
                        <div class="skill">
                            <p>Fireball</p>
                            <div class="progressBar">
                                <div class="progress" style="width: 60%;"></div>
                            </div>
                        </div>
                        <div class="skill">
                            <p>Fireball</p>
                            <div class="progressBar">
                                <div class="progress" style="width: 60%;"></div>
                            </div>
                        </div>
                        <div class="skill">
                            <p>Fireball</p>
                            <div class="progressBar">
                                <div class="progress" style="width: 60%;"></div>
                            </div>
                        </div>
                    </div>
                    <h2>Passive Skills</h2>
                    <div id="passiveSkills">
                        <div class="skill">
                            <p>Toughness</p>
                            <div class="progressBar">
                                <div class="progress" style="width: 50%;"></div>
                            </div>
                        </div>
                        <div class="skill">
                            <p>Meditation</p>
                            <div class="progressBar">
                                <div class="progress" style="width: 70%;"></div>
                            </div>
                        </div>
                        <div class="skill">
                            <p>Toughness</p>
                            <div class="progressBar">
                                <div class="progress" style="width: 50%;"></div>
                            </div>
                        </div>
                        <div class="skill">
                            <p>Meditation</p>
                            <div class="progressBar">
                                <div class="progress" style="width: 70%;"></div>
                            </div>
                        </div>
                        <div class="skill">
                            <p>Toughness</p>
                            <div class="progressBar">
                                <div class="progress" style="width: 50%;"></div>
                            </div>
                        </div>
                        <div class="skill">
                            <p>Meditation</p>
                            <div class="progressBar">
                                <div class="progress" style="width: 70%;"></div>
                            </div>
                        </div>
                        <div class="skill">
                            <p>Toughness</p>
                            <div class="progressBar">
                                <div class="progress" style="width: 50%;"></div>
                            </div>
                        </div>
                        <div class="skill">
                            <p>Meditation</p>
                            <div class="progressBar">
                                <div class="progress" style="width: 70%;"></div>
                            </div>
                        </div>
                        <div class="skill">
                            <p>Toughness</p>
                            <div class="progressBar">
                                <div class="progress" style="width: 50%;"></div>
                            </div>
                        </div>
                        <div class="skill">
                            <p>Meditation</p>
                            <div class="progressBar">
                                <div class="progress" style="width: 70%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="tabcontent" id="map">


    <div style="display: flex; height: 100%;">
        <div><div id="hero-portrait-container"></div>
            <div id="gridContainer"> <!-- Navigation Buttons -->
                <div class="gridItem"><button class="tablinks" id="heroContentNavButton">Hero</button></div>
                <div class="gridItem"><button class="tablinks" id="mapNavButton">Map</button></div>
                <div class="gridItem"><button class="tablinks" id="libraryNavButton">Library</button></div>
                <div class="gridItem"><button class="tablinks" id="optionsNavButton">Options</button></div>
                <div class="gridItem"></div> <!-- Empty or for future use -->
                <div class="gridItem"><button class="tablinks" id="battle-statisticsNavButton">Stats</button></div>
                <div class="gridItem"><button class="tablinks" id="questsNavButton">Quests</button></div>
                <div class="gridItem"><button class="tablinks" id="homeNavButton">Home</button></div>
            </div>
        </div>


        <div id="map-container"></div>
        <div id="poi-list-container">
            <h3>Points of Interest</h3>
            <ul id="poi-list"></ul>
        </div>
    </div>
</div>

<div class="tabcontent" id="library">
    <div class="library-container">
        <div class="topic-list">
            <ul id="topics"></ul>
        </div>
        <div class="content-area">
            <div id="content">
                <h2>Welcome to the Library</h2>
                <p>Select a topic to view its content.</p>
            </div>
        </div>
    </div>
</div>
<div class="tabcontent statistics-page" id="battle-statistics">
    <h1>Battle Statistics</h1>
    <div class="statistic-item">
        <span class="statistic-name">Total Damage Dealt:</span>
        <span class="statistic-value" id="total-damage-dealt">0</span>
    </div>
    <div class="statistic-item">
        <span class="statistic-name">Total Damage Received:</span>
        <span class="statistic-value" id="total-damage-received">0</span>
    </div>
    <div class="statistic-item">
        <span class="statistic-name">Total Healing Received:</span>
        <span class="statistic-value" id="total-healing-received">0</span>
    </div>
    <div class="statistic-item">
        <span class="statistic-name">Total Buffs Applied:</span>
        <span class="statistic-value" id="total-buffs-applied">0</span>
    </div>
    <div class="statistic-item">
        <span class="statistic-name">Total Debuffs Applied:</span>
        <span class="statistic-value" id="total-debuffs-applied">0</span>
    </div>
    <div class="statistic-item">
        <span class="statistic-name">Mana Regenerated:</span>
        <span class="statistic-value" id="mana-regenerated">0</span>
    </div>
    <div class="statistic-item">
        <span class="statistic-name">Stamina Regenerated:</span>
        <span class="statistic-value" id="stamina-regenerated">0</span>
    </div>
    <div class="statistic-item">
        <span class="statistic-name">Stamina Spent:</span>
        <span class="statistic-value" id="stamina-spent">0</span>
    </div>
    <div class="statistic-item">
        <span class="statistic-name">Mana Spent:</span>
        <span class="statistic-value" id="mana-spent">0</span>
    </div>
    <div class="statistic-item">
        <span class="statistic-name">Multi-Kills/Hits:</span> <!-- Clarified name -->
        <span class="statistic-value" id="multi-kills">0</span>
    </div>
    <div class="statistic-item">
        <span class="statistic-name">Critical Hits:</span>
        <span class="statistic-value" id="critical-hits">0</span>
    </div>
    <div class="statistic-item">
        <span class="statistic-name">Critical Damage:</span>
        <span class="statistic-value" id="critical-damage">0</span>
    </div>
    <div class="statistic-item">
        <span class="statistic-name">Misses:</span>
        <span class="statistic-value" id="misses">0</span>
    </div>
    <div class="statistic-item">
        <span class="statistic-name">Skill Usage:</span>
        <span class="statistic-value" id="skill-usage">0</span>
    </div>
    <div class="statistic-item">
        <span class="statistic-name">Successful Flees:</span>
        <span class="statistic-value" id="successful-flees">0</span>
    </div>
    <div class="statistic-item">
        <span class="statistic-name">Gold Collected:</span>
        <span class="statistic-value" id="gold-collected">0</span>
    </div>
</div>

<div id="footer" class="hidden">
    <div id="level-progress-container">
        <div id="level-progress-bar">
            <span id="class-name">Novice</span>
            <div class="tooltip-text">EXP: 0/100</div> <!-- Added tooltip div -->
        </div>
    </div>
    <div id="bottomContainer">
        <div class="iconContainer">
            <div class="iconRow upperRow"> <!-- Passive Skills -->
                <div class="iconGroup">
                    <div class="battleSkillIcon" id="passiveSkill1"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div></div>
                    <div class="battleSkillIcon" id="passiveSkill2"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div></div>
                    <div class="battleSkillIcon" id="passiveSkill3"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div></div>
                    <div class="battleSkillIcon" id="passiveSkill4"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div></div>
                </div>
                <div class="iconGroup">
                    <div class="battleSkillIcon" id="passiveSkill5"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div></div>
                    <div class="battleSkillIcon" id="passiveSkill6"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div></div>
                    <div class="battleSkillIcon" id="passiveSkill7"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div></div>
                    <div class="battleSkillIcon" id="passiveSkill8"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div></div>
                </div>
                <div class="iconGroup">
                    <div class="battleSkillIcon" id="passiveSkill9"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div></div>
                    <div class="battleSkillIcon" id="passiveSkill10"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div></div>
                    <div class="battleSkillIcon" id="passiveSkill11"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div></div>
                    <div class="battleSkillIcon" id="passiveSkill12"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div></div>
                </div>
            </div>
            <div class="iconRow lowerRow"> <!-- Active Skills -->
                <div class="iconGroup">
                    <div class="battleSkillIcon" id="skill1"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div><div class="cooldown-overlay hidden"></div></div>
                    <div class="battleSkillIcon" id="skill2"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div><div class="cooldown-overlay hidden"></div></div>
                    <div class="battleSkillIcon" id="skill3"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div><div class="cooldown-overlay hidden"></div></div>
                    <div class="battleSkillIcon" id="skill4"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div><div class="cooldown-overlay hidden"></div></div>
                </div>
                <div class="iconGroup">
                    <div class="battleSkillIcon" id="skill5"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div><div class="cooldown-overlay hidden"></div></div>
                    <div class="battleSkillIcon" id="skill6"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div><div class="cooldown-overlay hidden"></div></div>
                    <div class="battleSkillIcon" id="skill7"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div><div class="cooldown-overlay hidden"></div></div>
                    <div class="battleSkillIcon" id="skill8"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div><div class="cooldown-overlay hidden"></div></div>
                </div>
                <div class="iconGroup">
                    <div class="battleSkillIcon" id="skill9"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div><div class="cooldown-overlay hidden"></div></div>
                    <div class="battleSkillIcon" id="skill10"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div><div class="cooldown-overlay hidden"></div></div>
                    <div class="battleSkillIcon" id="skill11"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div><div class="cooldown-overlay hidden"></div></div>
                    <div class="battleSkillIcon" id="skill12"><img src="Media/UI/defaultSkill.jpeg"><div class="tooltip"></div><div class="cooldown-overlay hidden"></div></div>
                </div>
            </div>
        </div>

    </div>
</div>
<!-- Module Scripts -->
<script src="EffectClass.js" type="module"></script>
<script src="Skill.js" type="module"></script>
<script src="Member.js" type="module"></script>
<script src="Hero.js" type="module"></script>
<script src="Team.js" type="module"></script>
<script src="BattleLog.js" type="module"></script>
<script src="BattleStatistics.js" type="module"></script>
<script src="EvolutionService.js" type="module"></script>
<script src="Render.js" type="module"></script>
<script src="Targeting.js" type="module"></script>
<script src="Area.js" type="module"></script>
<script src="Battle.js" type="module"></script>
<script src="questSystem.js" type="module"></script>
<script src="questLog.js" type="module"></script>
<script src="navigation.js" type="module"></script>
<script src="map.js" type="module"></script>
<script src="home.js" type="module"></script>
<script src="slideshow.js" type="module"></script>
<script src="dialogue.js" type="module"></script>
<script src="libraryLoader.js" type="module"></script>
<script src="initialize.js" type="module"></script> <!-- Should be one of the last -->
<script src="Main.js" type="module"></script> <!-- Main can be early if it only sets up global event listeners -->
<script src="evolutionTest.mjs" type="module"></script> <!-- Main can be early if it only sets up global event listeners -->


</body>
</html>